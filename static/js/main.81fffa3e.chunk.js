(this["webpackJsonpassignment-2-business"]=this["webpackJsonpassignment-2-business"]||[]).push([[0],{49:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"summerSky",(function(){return lt})),n.d(r,"regalBlue",(function(){return st})),n.d(r,"blackcurrant",(function(){return mt})),n.d(r,"lightSkyBlue",(function(){return dt})),n.d(r,"mulberry",(function(){return ft})),n.d(r,"terraCotta",(function(){return pt})),n.d(r,"white",(function(){return bt})),n.d(r,"whiteSmoke",(function(){return ht})),n.d(r,"suvaGrey",(function(){return vt})),n.d(r,"dodgerBlue",(function(){return gt})),n.d(r,"christalle",(function(){return Et}));var a=n(1),i=n.n(a),c=n(39),u=n.n(c),o=n(6),l=n(10),s=n(3),m=n(2),d=Object(a.createContext)({}),f=n(43);function p(){var e=Object(s.a)(["\n  padding: 5px 10px;\n  line-height: 0;\n"]);return p=function(){return e},e}function b(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n"]);return b=function(){return e},e}function h(){var e=Object(s.a)(["\n  font-size: 1em;\n\n  @media only screen and (min-width: 600px) {\n    font-size: 2em;\n  }\n"]);return h=function(){return e},e}function v(){var e=Object(s.a)(["\n  padding: 1em;\n  background-color: ",";\n  color: white;\n  display: flex;\n  justify-content: space-between;\n"]);return v=function(){return e},e}function g(){var e=Object(s.a)(["\n  padding: 0.5rem;\n\n  @media only screen and (min-width: 600px) {\n    padding: 1rem;\n  }\n"]);return g=function(){return e},e}var E=m.d.main(g()),y=m.d.header(v(),(function(e){return e.theme.christalle})),O=m.d.h1(h()),j=m.d.div(b()),x=m.d.div(p());function w(e){var t=e.children,n=Object(a.useContext)(d).user;return i.a.createElement("div",null,i.a.createElement(y,null,i.a.createElement(O,null,"Business Management"),i.a.createElement(j,null,n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(x,null,i.a.createElement(f.a,{size:30})),i.a.createElement("div",null,i.a.createElement("p",null,n.firstName," ",n.lastName),i.a.createElement("p",null,n.email))))),i.a.createElement(E,null,t))}var k=Object(a.createContext)({}),N=n(7),S=n(19),T=n(11),C=Object(a.createContext)({}),P=n(5),V=n.n(P),z=n(8),q=n(47),F=n(48),H="https://frebi.willandskill.eu/",L=function(){function e(){Object(q.a)(this,e)}return Object(F.a)(e,[{key:"register",value:function(){var e=Object(z.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(H,"auth/users/"),r=t,e.abrupt("return",fetch(n,{method:"POST",headers:this.getPublicHeaders(),body:JSON.stringify(r)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkEmailExits",value:function(){var e=Object(z.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(H,"api/v1/check-email-exists/"),r={email:t},e.abrupt("return",fetch(n,{method:"POST",headers:this.getPublicHeaders(),body:JSON.stringify(r)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"activateUser",value:function(){var e=Object(z.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(H,"auth/users/activate/"),a={uid:t,token:n},e.abrupt("return",fetch(r,{method:"POST",headers:this.getPublicHeaders(),body:JSON.stringify(a)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(z.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(H,"api-token-auth/"),a={email:t,password:n},e.abrupt("return",fetch(r,{method:"POST",headers:this.getPublicHeaders(),body:JSON.stringify(a)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(z.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(H,"api/v1/me"),e.abrupt("return",fetch(t,{headers:this.getPrivateHeaders()}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomerList",value:function(){var e=Object(z.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(H,"api/v1/customers"),e.abrupt("return",fetch(t,{headers:this.getPrivateHeaders()}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomerDetails",value:function(){var e=Object(z.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(H,"api/v1/customers/").concat(t,"/"),e.abrupt("return",fetch(n,{headers:this.getPrivateHeaders()}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCustomerDetails",value:function(){var e=Object(z.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(H,"api/v1/customers/").concat(t,"/"),e.abrupt("return",fetch(n,{method:"DELETE",headers:this.getPrivateHeaders()}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCustomerDetails",value:function(){var e=Object(z.a)(V.a.mark((function e(t,n){var r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(H,"api/v1/customers/").concat(t,"/"),e.abrupt("return",fetch(r,{method:"PATCH",headers:this.getPrivateHeaders(),body:JSON.stringify(n)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createCustomer",value:function(){var e=Object(z.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(H,"api/v1/customers"),r=t,e.abrupt("return",fetch(n,{method:"POST",headers:this.getPrivateHeaders(),body:JSON.stringify(r)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setToken",value:function(e){localStorage.setItem("BUSINESS_TOKEN",e)}},{key:"getToken",value:function(){return localStorage.getItem("BUSINESS_TOKEN")}},{key:"getPublicHeaders",value:function(){return{"Content-Type":"application/json"}}},{key:"getPrivateHeaders",value:function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getToken())}}}]),e}(),B=n(22),R=n(30);function U(){var e=Object(s.a)(["\n  color: ",";\n  font-size: 0.8em;\n  font-weight: 300;\n"]);return U=function(){return e},e}function A(){var e=Object(s.a)(["\n  color: white;\n  display: block;\n  font-size: 0.9em;\n  font-weight: 200;\n"]);return A=function(){return e},e}function D(){var e=Object(s.a)(["\n  appearance: none;\n  border: none;\n  border-radius: 3px;\n  box-shadow: 0 2px 4px 0 rgba(201, 201, 201, 0.5);\n  padding: 0.5em 0.8em;\n  width: 100%;\n\n  &:focus {\n    outline: none;\n  }\n"]);return D=function(){return e},e}var J=m.d.input(D()),I=m.d.label(A()),K=m.d.span(U(),(function(e){return e.theme.terraCotta}));function W(e){var t=e.label,n=e.name,r=e.placeholder,a=e.register,c=e.inputType,u=e.error,o=c||"text";return i.a.createElement("div",null,i.a.createElement(I,null,t),i.a.createElement(J,{name:n,type:o,placeholder:r,ref:a}),u&&i.a.createElement(K,null,u))}var $=n(13);function M(){var e=Object(s.a)(["\n  appearance: none;\n  box-shadow: 0px 2px 7px 1px rgba(0, 0, 0, 0.5);\n  background-color: white;\n  border: none;\n  border-radius: 50%;\n  padding: 8px;\n  line-height: 0;\n  transition: all 0.2s ease-in-out;\n\n  :hover {\n    @media only screen and (min-width: 600px) {\n      cursor: pointer;\n      transform: scale(1.1);\n    }\n  }\n  &:focus {\n    outline: none;\n  }\n"]);return M=function(){return e},e}var Y=m.d.button(M());function _(e){var t=e.children,n=e.action;return i.a.createElement(Y,{onClick:n},t)}function G(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-auto-rows: 1fr;\n  gap: 5px;\n  align-items: center;\n  justify-items: center;\n  padding: 0.2em 0 0.2em 10px;\n"]);return G=function(){return e},e}function Q(){var e=Object(s.a)(["\n  display: flex;\n  align-items: flex-end;\n\n  justify-content: space-between;\n"]);return Q=function(){return e},e}function X(){var e=Object(s.a)(["\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n"]);return X=function(){return e},e}var Z=m.d.div(X()),ee=m.d.form(Q()),te=m.d.div(G());function ne(e){var t,n=e.handleEdit,r=e.keyName,c=e.defaultValue,u=e.label,o=e.inputType,l=e.schema,s=Object($.c)({resolver:Object(B.a)(l)}),m=s.register,d=s.handleSubmit,f=s.errors,p=s.setValue,b=Object(a.useContext)(C),h=b.edit,v=b.setEdit;return Object(a.useEffect)((function(){p(r,c)}),[]),i.a.createElement(Z,null,i.a.createElement(ee,{onSubmit:d(n)},i.a.createElement(W,{label:u,name:r,register:m,inputType:o,error:null===(t=f[r])||void 0===t?void 0:t.message}),i.a.createElement(te,null,i.a.createElement(_,{type:"submit"},i.a.createElement(R.a,{color:"green",size:"20"})),i.a.createElement(_,{action:function(){v(Object(S.a)(Object(S.a)({},h),{},Object(N.a)({},r,!1)))}},i.a.createElement(R.c,{color:"red",size:"20"})))))}function re(){var e=Object(s.a)(["\n  font-weight: 200;\n  font-size: 0.9em;\n"]);return re=function(){return e},e}function ae(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return ae=function(){return e},e}var ie=m.d.div(ae()),ce=m.d.p(re());function ue(e){var t=e.stateValue,n=e.keyName,r=e.label,c=Object(a.useContext)(C),u=c.edit,o=c.setEdit;return i.a.createElement(ie,null,i.a.createElement("div",null,i.a.createElement(ce,null,r),i.a.createElement("p",null,t)),i.a.createElement(_,{action:function(){o(Object(S.a)(Object(S.a)({},u),{},Object(N.a)({},n,!0)))}},i.a.createElement(R.b,{color:"#E0A000",size:"20"})))}var oe=RegExp(/^(SE)?[0-9]{12}$/),le=T.b().shape({name:T.c().required("Name is required.").trim().min(1,"Name must be at least 1 character.").max(50,"Name can't be more than 50 character."),organisationNr:T.c().trim().length(10,"The organisation number must be 10 digits without spaces in between."),paymentTerm:T.a().typeError("Payment Term is required.").integer("Payment Term must be un integer").min(0,"Payment Term must be a positive number, at least 0.").required("Payment Term is required."),email:T.c().email(),vatNr:T.c().matches(oe,"VAT Nr must follow this fotmat: SE999999999901")});function se(){var e=Object(s.a)(["\n  background-color: ",";\n  padding: 2em;\n  display: grid;\n  gap: 1em;\n  color: white;\n\n  @media screen and (max-width: 767px) {\n    padding: 1em;\n  }\n"]);return se=function(){return e},e}var me=m.d.div(se(),(function(e){return e.theme.blackcurrant}));function de(e){var t=e.customer,n=new L,r=Object(a.useContext)(C),c=r.edit,u=r.setEdit,l=t.id,s=Object(a.useState)(W(t.name)),m=Object(o.a)(s,2),d=m[0],f=m[1],p=Object(a.useState)(W(t.organisationNr)),b=Object(o.a)(p,2),h=b[0],v=b[1],g=Object(a.useState)(W(t.vatNr)),E=Object(o.a)(g,2),y=E[0],O=E[1],j=Object(a.useState)(W(t.reference)),x=Object(o.a)(j,2),w=x[0],k=x[1],P=Object(a.useState)(t.paymentTerm),V=Object(o.a)(P,2),z=V[0],q=V[1],F=Object(a.useState)(W(t.website)),H=Object(o.a)(F,2),B=H[0],R=H[1],U=Object(a.useState)(W(t.email)),A=Object(o.a)(U,2),D=A[0],J=A[1],I=Object(a.useState)(W(t.phoneNumber)),K=Object(o.a)(I,2);function W(e){return null===e?"":e}var $=[{stateValue:d,setStateValue:f,keyName:"name",label:"Name",inputType:"text"},{stateValue:h,setStateValue:v,keyName:"organisationNr",label:"Organization Number",inputType:"text"},{stateValue:y,setStateValue:O,keyName:"vatNr",label:"VAT identification number",inputType:"text"},{stateValue:w,setStateValue:k,keyName:"reference",label:"Reference",inputType:"text"},{stateValue:z,setStateValue:q,keyName:"paymentTerm",label:"Payment Term (days)",inputType:"number"},{stateValue:B,setStateValue:R,keyName:"website",label:"Website",inputType:"text"},{stateValue:D,setStateValue:J,keyName:"email",label:"Email",inputType:"email"},{stateValue:K[0],setStateValue:K[1],keyName:"phoneNumber",label:"Phone Number",inputType:"text"}];function M(e){var t=Object.keys(e)[0],r=e;n.updateCustomerDetails(l,r).then((function(){u(Object(S.a)(Object(S.a)({},c),{},Object(N.a)({},t,!1))),(0,$.find((function(e){return e.keyName===t})).setStateValue)(e[t])}))}function Y(e,t,n,r){var a=T.b().shape(Object(N.a)({},t,le.fields[t]));return c[t]?i.a.createElement(ne,{key:"".concat(t,"Edit"),handleEdit:M,keyName:t,defaultValue:e,label:n,inputType:r,schema:a}):i.a.createElement(ue,{key:"".concat(t,"Info"),stateValue:e,keyName:t,label:n})}return Object(a.useEffect)((function(){Y()}),[]),i.a.createElement(me,null,i.a.createElement("h3",null,d),$.map((function(e){return Y(e.stateValue,e.keyName,e.label,e.inputType)})))}function fe(){var e=Object(s.a)(["\n  ","\n"]);return fe=function(){return e},e}function pe(){var e=Object(s.a)(["\n  appearance: none;\n  background: rgb(225, 115, 97);\n  background: linear-gradient(\n    90deg,\n    rgba(225, 115, 97, 1) 25%,\n    rgba(209, 76, 137, 1) 70%\n  );\n  border: none;\n  border-radius: 50px;\n  color: white;\n  font-size: 0.8em;\n  padding: 0.5em 0.8em;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    transform: scale(1.03);\n    cursor: pointer;\n  }\n  &:focus {\n    outline: none;\n  }\n"]);return pe=function(){return e},e}var be=Object(m.c)(pe()),he=m.d.button(fe(),be);function ve(e){var t=e.title,n=e.onClickFunc;return i.a.createElement(he,{onClick:function(){n&&n()}},t)}function ge(){var e=Object(s.a)(["\n  ","\n  max-width: 150px;\n  align-self: flex-end;\n"]);return ge=function(){return e},e}function Ee(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ee=function(){return e},e}var ye=m.d.div(Ee()),Oe=m.d.button(ge(),be);function je(e){var t=new L,n=Object(a.useState)(null),r=Object(o.a)(n,2),c=r[0],u=r[1],s=e.match.params.id,m=Object(l.f)(),d=Object(a.useState)({name:!1,organisationNr:!1,vatNr:!1,reference:!1,paymentTerm:!1,website:!1,email:!1,phoneNumber:!1}),f=Object(o.a)(d,2),p=f[0],b=f[1];return Object(a.useEffect)((function(){t.getCustomerDetails(s).then((function(e){return e.json()})).then((function(e){u(e)}))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(C.Provider,{value:{edit:p,setEdit:b}},i.a.createElement(ye,null,i.a.createElement(Oe,{onClick:function(){t.deleteCustomerDetails(s).then((function(){return m.push("/home")}))}},"Delete Customer"),c&&i.a.createElement(de,{customer:c}))))}var xe=n(18);function we(){var e=Object(s.a)(["\n  font-size: 1.5em;\n  color: ",";\n"]);return we=function(){return e},e}function ke(){var e=Object(s.a)(["\n  font-size: 16px;\n  background-color: ",";\n  color: black;\n  border-radius: 5px;\n  padding: 10px;\n  box-shadow: 0 2px 4px 0 rgba(201, 201, 201, 0.5);\n  a {\n    color: black;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]);return ke=function(){return e},e}var Ne=m.d.li(ke(),(function(e){return e.theme.white})),Se=m.d.p(we(),(function(e){return e.theme.mulberry}));function Te(e){var t=e.customer,n=t.id,r=t.name,a=t.organisationNr,c=t.reference;return i.a.createElement(Ne,null,i.a.createElement(xe.b,{to:"customer/".concat(n)},i.a.createElement(Se,null,r),i.a.createElement("p",null,"Org. Nr: ",a),i.a.createElement("p",null,"Reference: ",c)))}function Ce(){var e=Object(s.a)(["\n  padding: 1em;\n"]);return Ce=function(){return e},e}function Pe(){var e=Object(s.a)(["\n  padding: 0;\n  display: grid;\n  gap: 10px;\n  list-style: none;\n"]);return Pe=function(){return e},e}var Ve=m.d.ul(Pe()),ze=m.d.div(Ce());function qe(){var e=new L,t=Object(a.useContext)(k),n=t.customerList,r=t.setCustomerList;return Object(a.useEffect)((function(){e.getCustomerList().then((function(e){return e.json()})).then((function(e){r(e.results)}))}),[]),i.a.createElement(ze,null,i.a.createElement("h2",null,"Your Customers"),i.a.createElement(Ve,null,n&&n.map((function(e){var t=e.id;return i.a.createElement(Te,{key:t,customer:e})}))))}function Fe(){var e=Object(s.a)(["\n  display: grid;\n  gap: 8px;\n"]);return Fe=function(){return e},e}function He(){var e=Object(s.a)(["\n  padding: 1em;\n"]);return He=function(){return e},e}var Le=m.d.div(He()),Be=m.d.form(Fe());function Re(){var e,t,n,r,c=new L,u=Object(a.useContext)(k).setCustomerList,o=Object($.c)({resolver:Object(B.a)(le)}),l=o.register,s=o.handleSubmit,m=o.errors,d=o.reset;return i.a.createElement(Le,null,i.a.createElement("h2",null,"Create a new customer"),i.a.createElement(Be,{onSubmit:s((function(e){c.createCustomer(e).then((function(){c.getCustomerList().then((function(e){return e.json()})).then((function(e){u(e.results),d()}))}))}))},i.a.createElement(W,{label:"Name",name:"name",register:l,error:null===(e=m.name)||void 0===e?void 0:e.message}),i.a.createElement(W,{label:"Organisation Number",name:"organisationNr",register:l,error:null===(t=m.organisationNr)||void 0===t?void 0:t.message}),i.a.createElement(W,{label:"VAT identification number",name:"vatNr",placeholder:"SE999999999901",register:l,error:null===(n=m.vatNr)||void 0===n?void 0:n.message}),i.a.createElement(W,{label:"Reference",name:"reference",register:l}),i.a.createElement(W,{label:"Payment Term (days)",name:"paymentTerm",register:l,inputType:"number",error:null===(r=m.paymentTerm)||void 0===r?void 0:r.message}),i.a.createElement(W,{label:"Website",name:"website",placeholder:"https://example.com",register:l,inputType:"url"}),i.a.createElement(W,{label:"Email",name:"email",placeholder:"org@email.com",register:l,inputType:"email"}),i.a.createElement(W,{label:"Phone Number",name:"phoneNumber",register:l,inputType:"tel"}),i.a.createElement(ve,{type:"submit",title:"Create"})))}function Ue(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  @media screen and (min-width: 767px) {\n    flex-direction: row;\n  }\n\n  & > * {\n    flex: 1;\n  }\n"]);return Ue=function(){return e},e}var Ae=m.d.div(Ue());function De(){var e=new L,t=Object(a.useContext)(d).setUser;return Object(a.useEffect)((function(){e.getUser().then((function(e){return e.json()})).then((function(e){t(e)}))}),[]),i.a.createElement("div",null,i.a.createElement("h2",null,"Home"),i.a.createElement(Ae,null,i.a.createElement(qe,null),i.a.createElement(Re,null)))}function Je(){var e=Object(s.a)(["\n  color: ",";\n\n  @media only screen and (min-width: 600px) {\n  }\n"]);return Je=function(){return e},e}var Ie=m.d.h2(Je(),(function(e){return e.theme.white}));function Ke(e){var t=e.children;return i.a.createElement(Ie,null,t)}function We(){var e=Object(s.a)(["\n  display: grid;\n  gap: 8px;\n"]);return We=function(){return e},e}function $e(){var e=Object(s.a)(["\n  font-size: 1em;\n"]);return $e=function(){return e},e}var Me=T.b().shape({email:T.c().email().required("Email is requried."),password:T.c().required("Password is required.")}),Ye=Object(m.d)(K)($e()),_e=m.d.form(We());function Ge(){var e,t,n,r=new L,c=Object($.c)({resolver:Object(B.a)(Me)}),u=c.register,s=c.handleSubmit,m=c.errors,d=c.setError,f=Object(l.f)(),p=f.location.search,b=new URLSearchParams(p),h=Object(a.useState)(b.get("uid")),v=Object(o.a)(h,2),g=v[0],E=v[1],y=Object(a.useState)(b.get("token")),O=Object(o.a)(y,2),j=O[0],x=O[1];return i.a.createElement("div",null,g&&j?i.a.createElement("div",null,i.a.createElement(Ke,null,"Activate Account"),i.a.createElement(ve,{onClickFunc:function(){r.activateUser(g,j).then((function(){E(null),x(null),f.push("/login")}))},title:"Activate User"})):i.a.createElement("div",null,i.a.createElement(Ke,null,"Login"),i.a.createElement(_e,{onSubmit:s((function(e){var t=e.email,n=e.password;r.login(t,n).then((function(e){e.ok?e.json().then((function(e){r.setToken(e.token),f.push("/home")})):d("credentials",{type:"manual",message:"Unable to sign in with the credentials provided. Try again."})}))}))},i.a.createElement(Ye,null," ",null===(e=m.credentials)||void 0===e?void 0:e.message),i.a.createElement(W,{label:"Email",name:"email",placeholder:"name@email.com",register:u,inputType:"email",error:null===(t=m.email)||void 0===t?void 0:t.message}),i.a.createElement(W,{label:"Password",name:"password",register:u,inputType:"password",error:null===(n=m.password)||void 0===n?void 0:n.message}),i.a.createElement(ve,{type:"submit",title:"Sign in"}))))}var Qe=T.b().shape({firstName:T.c().required("First name is required.").trim().min(1,"First name must be at least 1 character.").max(30,"First name can't be more than 30 character."),lastName:T.c().required("Last name is required.").trim().min(1,"Last name must be at least 1 character.").max(30,"Last name can't be more than 30 characters."),email:T.c().email().required(),password:T.c().required("Password is required.").min(8,"Password must be at least 8 characters.").matches(RegExp(/(?!^\d+$)^.+$/),"The password must not only consist of numbers."),organisationName:T.c().required("Organisation name is required."),organisationKind:T.c().required("Organisation kind is required.").trim().length(1,"Organisation kind must be exactly one character (0, 1 or 2).").matches(RegExp(/[012]/),"Organisation kind must be 0, 1 or 2.")});function Xe(){var e=Object(s.a)(["\n  display: grid;\n  gap: 8px;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(s.a)(["\n  font-size: 1em;\n"]);return Ze=function(){return e},e}var et=Object(m.d)(K)(Ze()),tt=m.d.form(Xe());function nt(e){var t,n,r,a,c,u,o,l=e.setHasRegistered,s=new L,m=Object($.c)({resolver:Object(B.a)(Qe)}),d=m.register,f=m.handleSubmit,p=m.errors,b=m.reset,h=m.setError,v=[{label:"First Name",name:"firstName",error:null===(t=p.firstName)||void 0===t?void 0:t.message},{label:"Last Name",name:"lastName",error:null===(n=p.lastName)||void 0===n?void 0:n.message},{label:"Email",name:"email",error:null===(r=p.email)||void 0===r?void 0:r.message,placeholder:"name@email.com",inputType:"email"},{label:"Password",name:"password",error:null===(a=p.password)||void 0===a?void 0:a.message,inputType:"password"},{label:"Organisation Name",name:"organisationName",error:null===(c=p.organisationName)||void 0===c?void 0:c.message},{label:"Organisation Kind",name:"organisationKind",error:null===(u=p.organisationKind)||void 0===u?void 0:u.message,placeholder:"0, 1 or 2"}];return i.a.createElement("div",null,i.a.createElement(Ke,null,"Register"),i.a.createElement("p",null,"Enter details to register"),i.a.createElement(tt,{onSubmit:f((function(e){s.checkEmailExits(e.email).then((function(t){t.ok?h("email",{type:"manual",message:"This email is already in use. Please use another one."}):s.register(e).then((function(e){e.ok?(l(!0),b()):h("registerError",{type:"manual",message:"Something went wrong with your registration. Please try again."})}))}))}))},i.a.createElement(et,null," ",null===(o=p.registerError)||void 0===o?void 0:o.message),v.map((function(e,t){var n={label:e.label,name:e.name,error:e.error,placeholder:e.placeholder,inputType:e.inputType,register:d};return i.a.createElement(W,Object.assign({},n,{key:t}))})),i.a.createElement(ve,{type:"submit",title:"Register"})))}function rt(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return i.a.createElement("div",null,n&&i.a.createElement("div",null,i.a.createElement("h3",null,"Your account is almost registered!"),i.a.createElement("p",null,"You have been sent an email. Click the link in the email to activate your account.")),i.a.createElement(nt,{setHasRegistered:r}))}function at(){var e=Object(s.a)(["\n  background-color: ",";\n  padding: 2em;\n  border-radius: 10px;\n  box-shadow: 0px 3px 7px 1px rgba(0, 0, 0, 0.3);\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto auto auto;\n  gap: 1em;\n  color: black;\n\n  a {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-decoration: none;\n\n    & > * {\n      flex: 0.5;\n    }\n  }\n"]);return at=function(){return e},e}function it(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 80vh;\n"]);return it=function(){return e},e}var ct=m.d.div(it()),ut=m.d.div(at(),(function(e){return e.theme.white}));function ot(){return i.a.createElement(ct,null,i.a.createElement(ut,null,i.a.createElement("h2",null,"Welcome to Business Management"),i.a.createElement(xe.b,{to:"/register"},i.a.createElement(ve,{title:"Create a new account"})),i.a.createElement(xe.b,{to:"/login"},i.a.createElement(ve,{title:"Login"}))))}var lt="#30a3d8",st="#222E60",mt="#181341",dt="#7EC9F4",ft="#D14C89",pt="#E17361",bt="#FEFEFE",ht="#F9F9F9",vt="#929292",gt="#3478F6",Et="#4C1A5B";function yt(){var e=Object(s.a)(["\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  font-family: 'Poppins', sans-serif;\n}\nbody { font-size: 16px; \n  background-color: ",";\n  color: ","\n\n}\ninput, select { font-size: 100%; }\n@media screen and (max-width: 767px) {\n  input, select, textarea {\n    font-size: 16px;\n  }\n}\n"]);return yt=function(){return e},e}var Ot=Object(m.b)(yt(),mt,bt);var jt=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),u=Object(o.a)(c,2),s=u[0],m=u[1];return i.a.createElement("div",null,"hej",i.a.createElement(Ot,null),i.a.createElement(k.Provider,{value:{customerList:n,setCustomerList:r}},i.a.createElement(d.Provider,{value:{user:s,setUser:m}},i.a.createElement(w,null,i.a.createElement(l.c,null,i.a.createElement(l.a,{path:"/customer/:id",component:je}),i.a.createElement(l.a,{path:"/home",component:De}),i.a.createElement(l.a,{path:"/login",component:Ge}),i.a.createElement(l.a,{path:"/register",component:rt}),i.a.createElement(l.a,{path:"/",component:ot}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(xe.a,null,i.a.createElement(m.a,{theme:r},i.a.createElement(jt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.81fffa3e.chunk.js.map